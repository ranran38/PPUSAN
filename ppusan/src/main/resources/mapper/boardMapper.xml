<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.project.ppusan.mapper.BoardMapper">

<!--판매글 저장 -->
<insert id="insertBoard" parameterType="board">
	insert into board(
		contentId,
		hit,
		contentTypeId,
		sigunguCode,
		addr,
		image,
		x,	
		y,	
		title
	) values(
		#{contentId},
		#{hit},
		#{contentTypeId},
		#{sigunguCode},
		#{addr},
		#{image},
		#{x},	
		#{y},	
		#{title}
	)
</insert>

<select id="getTotal" resultType="int" parameterType="string">
	select count(*) from board where contentTypeId=#{contentTypeId}
</select>

<select id="getTotalBySigunguCode" resultType="int" parameterType="map">
	select count(*) from board 
	where contentTypeId=#{contentTypeId}
			and sigunguCode=#{sigunguCode}
</select>

<select id="findBoardsByContentTypeId" parameterType="string" resultType="board">
	select * from board 
	where contentTypeId=#{contentTypeId}
</select>

<select id="findBoardsBySigunguCode" parameterType="string" resultType="board">
	select * from board 
	where contentTypeId=#{contentTypeId}
		and sigunguCode=#{sigunguCode}
</select>
</mapper>
